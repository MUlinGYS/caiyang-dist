import{b as e,S as r,_ as a}from"./index-rOxHBf93.js";import{d as s,r as l,Z as o,c as t,e as i,b as d,x as n,u,w as m,$ as p,a0 as c,C as g,D as f,aE as v,M as h,z as w,H as y,L as _,I as b,P as V,a3 as x,N as P,o as $}from"./vendor-D3DmZvU-.js";import{L as z}from"./LeftView-jzBCSXC0.js";import"./lf_icon2-BRyz9ns7.js";const E={class:"login register"},T={class:"left-wrap"},j={class:"right-wrap"},k={class:"header"},L={class:"login-wrap"},M={class:"form"},U={class:"title"},q={class:"sub-title"},C={style:{"margin-top":"15px"}},F={class:"footer"},I=a(s({__name:"index",setup(a){const{t:s}=e(),I=x(),A=l(),B=r.name,D=l(!1),H=o({username:"",password:"",confirmPassword:"",agreement:!1}),K=o({username:[{required:!0,message:s("register.placeholder[0]"),trigger:"blur"},{min:3,max:20,message:s("register.rule[2]"),trigger:"blur"}],password:[{required:!0,validator:(e,r,a)=>{var l;""===r?a(new Error(s("register.placeholder[1]"))):(""!==H.confirmPassword&&(null==(l=A.value)||l.validateField("confirmPassword")),a())},trigger:"blur"},{min:6,message:s("register.rule[3]"),trigger:"blur"}],confirmPassword:[{required:!0,validator:(e,r,a)=>{""===r?a(new Error(s("register.rule[0]"))):r!==H.password?a(new Error(s("register.rule[1]"))):a()},trigger:"blur"}],agreement:[{validator:(e,r,a)=>{r?a():a(new Error(s("register.rule[4]")))},trigger:"change"}]}),N=()=>{return e=this,r=null,a=function*(){if(A.value)try{yield A.value.validate(),D.value=!0,setTimeout((()=>{D.value=!1,V.success("注册成功"),R()}),1e3)}catch(e){}},new Promise(((s,l)=>{var o=e=>{try{i(a.next(e))}catch(r){l(r)}},t=e=>{try{i(a.throw(e))}catch(r){l(r)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,t);i((a=a.apply(e,r)).next())}));var e,r,a},R=()=>{setTimeout((()=>{I.push("/login")}),1e3)};return(e,r)=>{const a=g,s=c,l=w("router-link"),o=v,V=b,x=p,I=P("ripple");return $(),t("div",E,[i("div",T,[d(z)]),i("div",j,[i("div",k,[r[4]||(r[4]=i("svg",{class:"icon","aria-hidden":"true"},[i("use",{"xlink:href":"#iconsys-zhaopian-copy"})],-1)),i("h1",null,n(u(B)),1)]),i("div",L,[i("div",M,[i("h3",U,n(e.$t("register.title")),1),i("p",q,n(e.$t("register.subTitle")),1),d(x,{ref_key:"formRef",ref:A,model:u(H),rules:u(K),"label-position":"top"},{default:m((()=>[d(s,{prop:"username"},{default:m((()=>[d(a,{modelValue:u(H).username,"onUpdate:modelValue":r[0]||(r[0]=e=>u(H).username=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[0]"),size:"large"},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"password"},{default:m((()=>[d(a,{modelValue:u(H).password,"onUpdate:modelValue":r[1]||(r[1]=e=>u(H).password=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[1]"),size:"large",type:"password",autocomplete:"off"},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"confirmPassword"},{default:m((()=>[d(a,{modelValue:u(H).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>u(H).confirmPassword=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[2]"),size:"large",type:"password",autocomplete:"off",onKeyup:f(N,["enter"])},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"agreement"},{default:m((()=>[d(o,{modelValue:u(H).agreement,"onUpdate:modelValue":r[3]||(r[3]=e=>u(H).agreement=e)},{default:m((()=>[h(n(e.$t("register.agreeText"))+" ",1),d(l,{style:{color:"var(--main-color)","text-decoration":"none"},to:"/privacy-policy"},{default:m((()=>[h(n(e.$t("register.privacyPolicy")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),i("div",C,[y(($(),_(V,{class:"register-btn",size:"large",type:"primary",onClick:N,loading:u(D)},{default:m((()=>[h(n(e.$t("register.submitBtnText")),1)])),_:1},8,["loading"])),[[I]])]),i("div",F,[i("p",null,[h(n(e.$t("register.hasAccount"))+" ",1),d(l,{to:"/login"},{default:m((()=>[h(n(e.$t("register.toLogin")),1)])),_:1})])])])),_:1},8,["model","rules"])])])])])}}}),[["__scopeId","data-v-c6c901bf"]]);export{I as default};
